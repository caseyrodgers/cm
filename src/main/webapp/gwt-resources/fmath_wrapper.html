<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<body>

	<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" 
                width="800" height="460" id="fmath-object" name="editML" align="middle">
			<param name=wmode value="transparent">
			<param name="allowScriptAccess" value="always"/>
			<param name="allowFullScreen" value="true"/>
			<param name="loop" value="false"/>
			<param name="quality" value="high" />
			<param name="flashVars" value="configUrl=configMathMLEditor.xml"/>
			<param name="movie" value="/gwt-resources/fmath/MathMLEditor.swf?configUrl=configMathMLEditor.xml" />
			<embed src="/gwt-resources/fmath/MathMLEditor.swf?configUrl=configMathMLEditor.xml"
	                        wmode="transparent"
				flashVars="configUrl=/gwt-resources/fmath/configMathMLEditor.xml"
				loop="false"
				quality="high"
				width="800"
				height="460"
                                id="editML"
				name="fmath-object"
				align="middle"
                                swliveconnect="true"
				allowScriptAccess="always"
				allowFullScreen="true"
				type="application/x-shockwave-flash"
				pluginspage="http://www.adobe.com/go/getflashplayer" />
		</object>
<script>
	function getMathMLFromJavascript(name){
          return parent.getResourceMathMl_Gwt();
	}

    /** setup GWT callable routine
     *
     */
    parent.getResourceMathMl =  function() {
        var sw = getSWF('fmath-object');
        return sw.getMathML();
    }
    
    parent.setResourceMathMl =  function(mathMl) {
        var sw = getSWF('fmath-object');
        return sw.setMathML(mathMl);
    }
    
    function getSWF(movieName) {
        if (navigator.appName.indexOf("Microsoft") != -1) {
            return document.getElementById(movieName);
        }
        else {
          if(document[movieName].length != undefined){
              return document[movieName][1];
          }
            return document[movieName];
        }
    }

    getSWF('fmath-object').focus();

</script>

</body>
</html>
