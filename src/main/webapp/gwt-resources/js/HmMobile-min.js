var _productionMode=false;var HmEvents={listeners:[],eventTutorInitialized:{subscribe:function(A){HmEvents.listeners[HmEvents.listeners.length]=A},fire:function(){for(var A=0;A<HmEvents.listeners.length;A++){HmEvents.listeners[A]()}}}};function $get(A){return document.getElementById(A)}HmEvents.eventTutorInitialized.subscribe(function(){try{MathJax.Hub.Queue(["Typeset",MathJax.Hub])}catch(A){alert("MathJAX processing failed: "+A)}});function setStepsInfoHelp(){}function resetStepsInfo(){}function getNextMoveTo(){}var TutorManager={currentRealStep:-1,currentStepUnit:-1,stepUnitsMo:[],stepUnits:[],steps:[],pid:"",stepUnit:null,tutorData:null,initializeTutor:function(A,D,C,B){TutorManager.pid=A;TutorManager.currentRealStep=-1;TutorManager.currentStepUnit=-1;TutorManager.loadTutorData(D);TutorManager.analyzeLoadedData();enabledNext(true);HmEvents.eventTutorInitialized.fire()},showMessage:function(B){var A=$get("tutor_message");A.innerHTML=B;setTimeout(function(){A.innerHTML="&nbsp;"},2000)},showNextStep:function(){if(TutorManager.currentStepUnit+1<TutorManager.stepUnits.length){TutorManager.currentStepUnit++;showStepUnit(TutorManager.currentStepUnit)}else{TutorManager.showMessage("no more steps")}},showPreviousStep:function(){if(TutorManager.currentStepUnit<0){TutorManager.showMessage("No previous step");return }else{while(TutorManager.currentStepUnit>-1){var A=TutorManager.stepUnits[TutorManager.currentStepUnit].ele;if(TutorManager.stepUnits[TutorManager.currentStepUnit].realNum!=TutorManager.currentRealStep){TutorManager.currentRealStep=TutorManager.stepUnits[TutorManager.currentStepUnit].realNum;break}A.style.display="none";TutorManager.currentStepUnit--}if(TutorManager.currentStepUnit==0){TutorManager.currentStepUnit=-1;window.scrollTo(0,0)}if(TutorManager.currentStepUnit>-1){setAsCurrent(TutorManager.stepUnits[TutorManager.currentStepUnit].ele)}setButtonState();scrollToStep(TutorManager.currentStepUnit);return false}},loadTutorData:function(solutionData){try{TutorManager.tutorData=eval("("+solutionData+")")}catch(e){alert(e)}},analyzeLoadedData:function(){TutorManager.stepUnits=[];TutorManager.steps=[];var I=100;for(var J=0;J<I;J++){var E=_getStepUnit(J);if(E==null){break}var B=E.getAttribute("id");var A=TutorManager.stepUnits.length;var C=E.getAttribute("steprole");var F=E.getAttribute("steptype");var G=parseInt(E.getAttribute("realstep"));var H=new StepUnit(B,A,F,C,G,E);TutorManager.stepUnits[TutorManager.stepUnits.length]=H;var D=TutorManager.steps[G];if(D==null){D=new Step(G);TutorManager.steps[G]=D}D.stepUnits[D.stepUnits.length]=H}return TutorManager.stepUnits.length},backToLesson:function(){gwt_backToLesson()},newProblem:function(){gwt_tutorNewProblem()}};function setButtonState(){setState("step",TutorManager.currentStepUnit<(TutorManager.stepUnits.length-1));setState("back",TutorManager.currentStepUnit>-1)}function enabledPrevious(A){enabledButton("steps_prev",A)}function enabledNext(A){enabledButton("steps_next",A)}function enabledButton(B,C){var A="sexybutton ";if(!C){A+=" disabled"}$get(B).className=A}function StepUnit(F,E,B,A,D,C){this.id=F;this.stepUnitNum=E;this.type=B;this.roleType=A;this.realNum=D;this.ele=C}function Step(A){this.realNum=A;this.stepUnits=new Array()}function _getStepUnit(A){return _getElement("stepunit",A)}function _getHintUnit(A){return _getElement("hintunit",A)}function _getFigureUnit(A){return _getElement("figure",A)}function findPreviousFigureUnit(A){for(p=A-1;p>-1;p--){fu=_getFigureUnit(p);if(fu!=null){return fu}}return null}function setAsNotCurrent(A){A.style.backgroundColor="#E2E2E2"}function _getElement(A,B){var C=A+"-"+B;return document.getElementById(C)}function showStepUnit(A){if(A<0){return }try{var B=TutorManager.stepUnits[A].ele;if(B==null){return false}B.style.display="block";if(B.getAttribute("steprole")=="step"){setAsCurrent(B)}setStepTitle(A,B);var D=_getFigureUnit(A);if(D!=null){if(A==0){D.style.display="block"}else{var E=findPreviousFigureUnit(A);if(E!=null&&E.src==D.src){D.style.display="none"}else{D.style.display="block"}}}for(i=A-1;i>-1;i--){if(TutorManager.stepUnits[i].roleType=="hint"){TutorManager.stepUnits[i].ele.style.display="none"}else{setAsNotCurrent(TutorManager.stepUnits[i].ele)}}TutorManager.currentStepUnit=A;TutorManager.currentRealStep=TutorManager.stepUnits[A].realNum;setButtonState();scrollToStep(A)}catch(C){alert("Error showing step: "+C)}return true}function setAsCurrent(A){A.style.backgroundColor="#F1F1F1"}function setStepTitle(A,C){stepTitle=document.getElementById("step_title-"+A);if(stepTitle){var B=C.getAttribute("steprole");if(B&&B=="step"){stepTitle.innerHTML="Step "+(parseInt(C.getAttribute("realstep"))+1);stepTitle.className="step_title_step"}else{stepTitle.innerHTML="Hint";stepTitle.className="step_title_hint"}}}function findPreviousFigureUnit(A){for(p=A-1;p>-1;p--){fu=_getFigureUnit(p);if(fu!=null){return fu}}return null}function setState(B,A){if(B=="step"){enabledNext(A)}else{if(B=="back"){enabledPrevious(A)}}}function scrollToStep(C){var B=document.getElementById("scrollTo-button");if(B){var G=DL_GetElementTop(B);var E=getViewableSize();var A=getScrollXY();var F=A[1];var D=E[1];var H=D+F;if(true||G<F||G>H){gwt_scrollToBottomOfScrollPanel(G-D)}}}function hideAllSteps(){for(var A=0;A<TutorManager.stepUnits.length;A++){var B=TutorManager.stepUnits[A].ele;if(B==null){return }if(B.style.display!="none"){B.style.display="none"}}window.scrollTo(0,0)}function initializeExternalJs(){var A="control-floater";new FloatLayer(A,150,15,10);detach(A);alignControlFloater()}function alignControlFloater(){alignFloatLayers();setTimeout(alignControlFloater,2000)}function doQuestionResponseEnd(){}var _activeQuestion;function doQuestionResponse(A,D){var C=TutorManager.tutorData._strings_moArray[A];if(_activeQuestion){var B=document.createElement("div");B.className="questionResponseAnswer";B.innerHTML=C;_activeQuestion.parentNode.appendChild(B)}else{gwt_showMessage(C)}}HmEvents.eventTutorInitialized.subscribe(function(){var H=document.getElementById("tutor_raw_steps_wrapper");if(H==null){return }var B=H.getElementsByTagName("div");var A=B.length;for(var E=0;E<A;E++){var G=B.item(E);if(G.className=="question_guess"){var F=G.getElementsByTagName("img");var D=F.item(0);var C=D.onmouseout=null;D.onmouseoverDeferred=D.onmouseover;D.onmouseover=null;D.onclick=function(I){var J=(I)?I:window.event;var K=J.srcElement?J.srcElement:J.target;_activeQuestion=K;if(!K.onmouseoverDeferred){alert("error: no deferred move event");return }K.onclick=null;K.onmouseoverDeferred()}}}});window.showCorrectAnswers=function(B){var D=document.getElementById("testset_div");if(D){var A=document.getElementById("testset_div").getElementsByTagName("div");for(var C=0;C<A.length;C++){if(A[C].className=="question_wrapper"){B(A[C])}}}};function setQuizQuestionActive(A){}function findQuestionGuid(B){while(B){var A=B.getAttribute("guid");if(A){return A}B=B.parentNode}return null}function findQuestionByPid(B){var D=document.getElementById("testset_div").getElementsByTagName("div");try{for(var C=0;C<D.length;C++){var E=D[C].getAttribute("guid");if(E==B){return D[C]}}}catch(A){alert("Error while setting selected question response: "+A)}alert("findQuestionByPid: pid not found: "+B);return null}function findQuestionNumberByPid(B){var E=document.getElementById("testset_div").getElementsByTagName("div");var C=0;try{for(var D=0;D<E.length;D++){var F=E[D].getAttribute("guid");if(F){if(F==B){return C}else{C++}}}}catch(A){alert("Error while question index: "+A)}alert("findQuestionByPid: pid not found: "+B);return null}function questionGuessChanged(H){try{var B=findQuestionGuid(H);var G=-1;if(H.id=="optionSkipped"){G="-2"}else{var D=H.parentNode.parentNode.parentNode;var A=D.getElementsByTagName("input");for(var C=0;C<A.length;C++){if(A.item(C)==H){G=C;break}}}var E=findQuestionNumberByPid(B);questionGuessChanged_Gwt(""+E,""+G,B)}catch(F){alert("Error answering question in external JS: "+F)}}function setSolutionQuestionAnswerIndexByNumber(B,C){var A=0;showCorrectAnswers(function(H){var G=H.getElementsByTagName("input");if(A==B){for(var F=0,E=G.length;F<E;F++){if(F==C){G[F].checked=true;var D=G[F];questionGuessChanged(D)}else{G[F].checked=false}}}A++})}window.setSolutionQuestionAnswerIndex=function(B,G,E){ulNode=findQuestionByPid(B);if(ulNode){var F=ulNode.getElementsByTagName("input");for(var D=0,C=F.length;D<C;D++){var A=F.item(D);A.disabled=E?true:false;if(D==G){A.checked=true}}}};function doLoadResource(B,A){doLoadResource_Gwt(B,A);return false}window.markAllCorrectAnswers=function(){showCorrectAnswers(markCorrectResponse)};window.getQuizResultsCorrect=function(){var A=0;showCorrectAnswers(function(E){var D=E.getElementsByTagName("input");for(var C=0,B=D.length;C<B;C++){var F=D[C].parentNode.getElementsByTagName("div");if(F[0].innerHTML=="Correct"){if(D[C].checked){A++}}}});return A};window.getQuizQuestionCount=function(){var A=0;showCorrectAnswers(function(B){A++});return A};window.showCorrectAnswers=function(B){var A=document.getElementById("testset_div").getElementsByTagName("div");for(var C=0;C<A.length;C++){if(A[C].className=="question_wrapper"){B(A[C])}}};window.markCorrectResponse=function(D){var E=D.getElementsByTagName("input");for(var C=0,B=E.length;C<B;C++){var F=E[C].parentNode.getElementsByTagName("div");if(F[0].innerHTML=="Correct"){E[C].checked=true;var A=E[C];questionGuessChanged(A);break}}};function checkQuiz_Gwt(){alert("Checking quiz ...")}window.setQuizQuestionResult=function(C,A){var E=findQuestionByPid(C);var D=getQuestionMarkImage(C);var B=getQuestionMarkText(C);if(A=="Correct"){D.src="/gwt-resources/images/check_correct.png";B.innerHTML="Correct"}else{if(A=="Incorrect"){D.src="/gwt-resources/images/check_incorrect.png";B.innerHTML="Incorrect"}else{D.src="/gwt-resources/images/check_notanswered.png";B.innerHTML="Not answered"}}D.parentNode.style.display="block"};function getQuestionMarkImage(A){return document.getElementById("response_image_"+A)}function getQuestionMarkText(A){return document.getElementById("response_text_"+A)}function log(){}InmhButtons={};function DL_GetElementLeft(B){if(!B&&this){B=this}var C=document.all?true:false;var A=B.offsetLeft;var D=B.offsetParent;while(D!=null){if(C){if(D.tagName=="TD"){A+=D.clientLeft}}A+=D.offsetLeft;D=D.offsetParent}return A}function DL_GetElementTop(B){if(!B&&this){B=this}var C=document.all?true:false;var A=B.offsetTop;var D=B.offsetParent;while(D!=null){if(C){if(D.tagName=="TD"){A+=D.clientTop}}A+=D.offsetTop;D=D.offsetParent}return A}function getViewableSize(){var B=0,A=0;if(typeof (window.innerWidth)=="number"){B=window.innerWidth;A=window.innerHeight}else{if(document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)){B=document.documentElement.clientWidth;A=document.documentElement.clientHeight}else{if(document.body&&(document.body.clientWidth||document.body.clientHeight)){B=document.body.clientWidth;A=document.body.clientHeight}}}a=[B,A];return a}function getScrollXY(){var B=0,A=0;if(typeof (window.pageYOffset)=="number"){A=window.pageYOffset;B=window.pageXOffset}else{if(document.body&&(document.body.scrollLeft||document.body.scrollTop)){A=document.body.scrollTop;B=document.body.scrollLeft}else{if(document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)){A=document.documentElement.scrollTop;B=document.documentElement.scrollLeft}}}return[B,A]}function _addEvent(E,D,B,A){if(E.addEventListener){E.addEventListener(D,B,A);return true}else{if(E.attachEvent){var C=E.attachEvent("on"+D,B);return C}else{alert("Handler could not be attached")}}}function _removeEvent(E,D,B,A){if(E.removeEventListener){E.removeEventListener(D,B,A);return true}else{if(E.detachEvent){var C=E.detachEvent("on"+D,B);return C}else{alert("Handler could not be removed")}}}function hideDivOnMouseOut(A){var C,B;if(window.event){C=this;B=window.event.toElement}else{C=A.currentTarget;B=A.relatedTarget}if(C!=B){if(!contains(C,B)){C.style.display="none"}}}function contains(B,A){while(A.parentNode){A=A.parentNode;if(A==B){return true}}return false}function grabComputedStyle(B,A){if(document.defaultView&&document.defaultView.getComputedStyle){return document.defaultView.getComputedStyle(B,null).getPropertyValue(A)}else{if(B.currentStyle){return B.currentStyle[A]}else{return null}}}function grabComputedHeight(B){var A=grabComputedStyle(B,"height");if(A!=null){if(A=="auto"){if(B.offsetHeight){A=B.offsetHeight}}A=parseInt(A)}return A}function grabComputedWidth(B){var A=grabComputedStyle(B,"width");if(A!=null){if(A.indexOf("px")!=-1){A=A.substring(0,A.indexOf("px"))}if(A=="auto"){if(B.offsetWidth){A=B.offsetWidth}}}return A}var _leftAnchor=null;var _leftAnchorElement;var _maxTop=null;var _floatDiv=null;function detach(B,C,A){_floatDiv=B;_leftAnchorElement=C;lay=document.getElementById(B);_maxTop=DL_GetElementTop($get(B));l=getXCoord(lay);t=getYCoord(lay);if(!A){lay.style.position="absolute"}if(_funcToCallOnRePosition){_funcToCallOnRePosition(lay,l,t)}else{lay.style.top=t+"px";lay.style.left=l+"px"}getFloatLayer(B).initialize()}var FloatLayers=new Array();var FloatLayersByName=new Array();var _funcToCallOnRePosition;function addFloatLayer(D,B,A,C){new FloatLayer(D,B,A,C)}function getFloatLayer(A){return FloatLayersByName[A]}var _isAligning;function alignFloatLayers(){if(_isAligning){return }_isAligning=true;var E=$get(_floatDiv);var D=0;var C=0;var F=0;if(_leftAnchorElement){var A=_leftAnchorElement;D=DL_GetElementLeft(A);C=grabComputedWidth(A);F=parseInt(D)+parseInt(C)}else{C=grabComputedWidth($get(_floatDiv));D=getViewableSize();F=D[0]-C}fdw=grabComputedWidth(E);fdl=parseInt(F)-parseInt(fdw);_leftAnchor=fdl;for(var B=0;B<FloatLayers.length;B++){FloatLayers[B].align()}_isAligning=false}function getXCoord(A){x=0;while(A){x+=A.offsetLeft;A=A.offsetParent}return x}function getYCoord(A){y=0;while(A){y+=A.offsetTop;A=A.offsetParent}return y}FloatLayer.prototype.setFloatToTop=setTopFloater;FloatLayer.prototype.setFloatToBottom=setBottomFloater;FloatLayer.prototype.setFloatToLeft=setLeftFloater;FloatLayer.prototype.setFloatToRight=setRightFloater;FloatLayer.prototype.initialize=defineFloater;FloatLayer.prototype.adjust=adjustFloater;FloatLayer.prototype.align=alignFloater;function FloatLayer(E,B,A,C,D){this.index=FloatLayers.length;_funcToCallOnRePosition=D;FloatLayers.push(this);FloatLayersByName[E]=this;this.name=E;this.floatX=0;this.floatY=0;this.tm=null;this.steps=C;this.alignHorizontal=(B>=0)?leftFloater:rightFloater;this.alignVertical=(A>=0)?topFloater:bottomFloater;this.ifloatX=Math.abs(B);this.ifloatY=Math.abs(A)}function defineFloater(){if(!this.layer){this.layer=document.getElementById(this.name)}this.width=this.layer.offsetWidth;this.height=this.layer.offsetHeight;this.prevX=this.layer.offsetLeft;this.prevY=this.layer.offsetTop}var cnt=0;function adjustFloater(){this.tm=null;var B=Math.abs(this.floatX-this.prevX);var A=Math.abs(this.floatY-this.prevY);if(B<this.steps/2){cx=(B>=1)?1:0}else{cx=Math.round(B/this.steps)}if(A<this.steps/2){cy=(A>=1)?1:0}else{cy=Math.round(A/this.steps)}if(this.floatX>this.prevX){this.prevX+=cx}else{if(this.floatX<this.prevX){this.prevX-=cx}}if(this.floatY>this.prevY){this.prevY+=cy}else{if(this.floatY<this.prevY){this.prevY-=cy}}if((_maxTop>0)&&this.prevY<_maxTop){this.prevY=_maxTop}if(_funcToCallOnRePosition){cnt++;_funcToCallOnRePosition(this.layer,_leftAnchor,this.prevY)}else{this.layer.style.left=_leftAnchor+"px";this.layer.style.top=this.prevY+"px"}if(cx!=0||cy!=0){log("cx: "+cx+"   cy: "+cy);if(this.tm==null){this.tm=setTimeout("FloatLayers["+this.index+"].adjust()",50)}}else{alignFloatLayers()}}function setLeftFloater(){this.alignHorizontal=leftFloater}function setRightFloater(){this.alignHorizontal=rightFloater}function setTopFloater(){this.alignVertical=topFloater}function setBottomFloater(){this.alignVertical=bottomFloater}function leftFloater(){this.floatX=document.body.scrollLeft+this.ifloatX}function topFloater(){var A=getScrollXY()[1];this.floatY=A+this.ifloatY}function rightFloater(){this.floatX=document.body.scrollLeft+document.body.clientWidth-this.ifloatX-this.width}function bottomFloater(){this.floatY=document.body.scrollTop+document.body.clientHeight-this.ifloatY-this.height}function alignFloater(){this.initialize();this.alignHorizontal();this.alignVertical();if(this.prevX!=this.floatX||this.prevY!=this.floatY){if(this.tm==null){this.tm=setTimeout("FloatLayers["+this.index+"].adjust()",50)}}}var _json;var HmFlashWidgetFactory={createWidget:function(A){if(A.type=="number_integer"){if(A.format=="angle_deg"){return new HmFlashWidgetImplNumberIntegerAngleDeg(A)}else{return new HmFlashWidgetImplNumberInteger(A)}}else{if(A.type=="number_decimal"){if(A.format=="money"){return new HmFlashWidgetImplNumberMoney(A)}else{return new HmFlashWidgetImplNumberInteger(A)}}else{if(A.type=="inequality"){return new HmFlashWidgetImplInequality(A)}else{if(A.type=="number_fraction"){return new HmFlashWidgetImplNumberIntegerFraction(A)}else{if(A.type=="number_simple_fraction"){return new HmFlashWidgetImplSimpleFraction(A)}else{if(A.type=="number_rational"){return new HmFlashWidgetImplRational(A)}else{if(A.type=="mChoice"){return new HmFlashWidgetImplMulti(A)}else{if(A.type=="coordinates"){return new HmFlashWidgetImplCoord(A)}else{if(A.type=="number_mixed_fraction"){return new HmFlashWidgetImplMixedFraction(A)}else{if(A.type=="power_form"){return new HmFlashWidgetImplPowerForm(A)}else{if(A.type=="scientific_notation"){return new HmFlashWidgetImplSciNotation(A)}else{if(A.type=="letter"){return new HmFlashWidgetImplLetter(A)}else{if(A.type=="odds"){return new HmFlashWidgetImplOdds(A)}else{if(A.type=="point_slope_form"){return new HmFlashWidgetImplPointSlopeForm(A)}else{if(A.type=="inequality_exact"){return new HmFlashWidgetImplInequalityExact(A)}else{alert("tutor widget: do not know how to initialize: "+A.type)}}}}}}}}}}}}}}}}};function flash_quizResult(A){}function _createQuestionStep(E){var D=E.getElementsByTagName("div");for(var F=0,C=D.length;F<C;F++){var A=D[F];if(F==0){}else{if((F%2)!=0){var B="<img src='/images/tutor5/hint_question-16x16.gif' onmouseover='showMouseAnswer(this)' onmouseout='nd()'/>";A.innerHTML=B+A.innerHTML}else{A.style.display="none"}}}}function showMouseAnswer(B){var F=B;var G=B.parentNode.parentNode;var E=G.getAttribute("correct");var A=(E=="true"||E=="yes");var H=G.getElementsByTagName("div");var C=H[1];var J=C.innerHTML;var I=A?"yes":"no";var D="/images";if(I=="yes"){J="<img class='question_correct_incorrect' src='"+D+"/tutor5/question_correct.gif'>"+J}else{J="<img class='question_correct_incorrect' src='"+D+"/tutor5/question_incorrect.gif'>"+J}return overlib(J,FGCLASS,"ol_question_style")}function _setupTutorMultiChoice(){var D=document.getElementsByTagName("div");for(var C=0,A=D.length;C<A;C++){if(D[C].className=="hm_question_def"){var B=D[C];_createQuestionStep(B)}}}HmEvents.eventTutorInitialized.subscribe(function(A){try{_showTutorWidget();_setupTutorMultiChoice()}catch(B){alert("error: "+B)}});var _enableJsWidgets=true;function _showTutorWidget(){var problemHead=document.getElementById("problem_statement");var divs=problemHead.getElementsByTagName("div");for(var w=0,t=divs.length;w<t;w++){var widgetDiv=divs[w];var cn=widgetDiv.getAttribute("id");if(cn=="hm_flash_widget"){var jsonDef=$get("hm_flash_widget_def");if(jsonDef){if(_enableJsWidgets){_json=jsonDef.innerHTML;var jsonObj=eval("("+_json+")");HmFlashWidgetFactory.createWidget(jsonObj)}else{showFlashObject();widgetDiv.style.display="none"}}else{widgetDiv.innerHTML=_createGuiWrapper().innerHTML;var info=document.createElement("div");info.innerHTML=_getWidgetNotUsedHtml();widgetDiv.appendChild(info)}}}}function _getWidgetNotUsedHtml(){return"<p>Work out your answer on our whiteboard; your teacher will receive a copy. Then, click the arrow buttons to see our step-by-step answer.</p>"}function showWidgetSubmit(B){var A=$get("widget_submit");if(A){A.disabled=B?false:true}}function setWidgetMessage(C){if(!C){C="&nbsp;";var A=$get("hm_flash_widget_indicator");if(A){A.style.display="none"}showWidgetSubmit(true);if($get("widget_input_simplified")){$get("widget_input_simplified").checked=false}}var B=$get("hm_flash_widget_head");if(B){B.innerHTML=C}}function copyPrototype(D,C){var E=C.toString();var B=E.match(/\s*function (.*)\(/);if(B!=null){D.prototype[B[1]]=C}for(var A in C.prototype){D.prototype[A]=C.prototype[A]}}var restrictionType_digitsOnly=/[1234567890-]/g;var restrictionType_digitsOnlyWithSlash=/[1234567890\/]/g;var restrictionType_digitsOnlyWithColon=/[1234567890:]/g;var restrictionType_integerOnly=/[0-9\.]/g;var restrictionType_alphaOnly=/[A-Z]/g;function restrictCharacters(D,C,B){if(!C){var C=window.event}if(C.keyCode){code=C.keyCode}else{if(C.which){code=C.which}}var A=String.fromCharCode(code);if(code==27){this.blur();return false}if(code!=13&&!C.ctrlKey&&code!=9&&code!=8&&code!=36&&code!=37&&code!=38&&(code!=39||(code==39&&A=="'"))&&code!=40){if(A.match(B)){return true}else{return false}}}function isASlashCharacter(A){if(!A){var A=window.event}if(A.keyCode){code=A.keyCode}else{if(A.which){code=A.which}}if(code==47){return true}return false}function isABackSpaceCharacter(A){if(!A){var A=window.event}if(A.keyCode){code=A.keyCode}else{if(A.which){code=A.which}}if(code==8){return true}return false}function HmFlashWidget(B){try{this._jsonObj=B;this._widgetAnswer=B.value;this.initializeWidget()}catch(A){alert("Widget initialization error: "+A)}}HmFlashWidget.prototype.initializeWidget=function(){var C=this;this._widgetGui=_createGuiWrapper();this._widgetForm=this.drawGui();this._widgetForm.onsubmit=function(){C.processWidget(this);return false};this._widgetGui.appendChild(this._widgetForm);var F="<input type='submit'  id='widget_submit' class='sexybutton sexysimple sexylarge sexyred' disabled='true' style='display: block' value='Check Answer'/>";this._widgetForm.innerHTML=this._widgetForm.innerHTML+F;var A=this._widgetForm.getElementsByTagName("input");for(var E=0,D=A.length;E<D;E++){var B=A[E];if(B.getAttribute("type")=="text"){if(B){B.onkeypress=function(G){setWidgetMessage(null);return C.processKey(this,G)}}}}setWidgetMessage("Optional: enter an answer!")};HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.drawGuiDefault=function(){var B=this.createWidgetForm();var A="<input name='widget_input_field_1' id='widget_input_field_1' type='text'/>";B.innerHTML=A;return B};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};HmFlashWidget.prototype.processWidgetDefault=function(){try{if(this.processWidgetValidation()){this.markWidgetCorrect()}else{this.markWidgetIncorrect()}}catch(A){setWidgetMessage(A)}showWidgetSubmit(false)};HmFlashWidget.prototype.processWidgetValidation=function(){var B=$get("widget_input_field_1");var A=B.value;return A==this._widgetAnswer};HmFlashWidget.prototype.processKey=function(){};_createGuiWrapper=function(){var B=$get("hm_flash_widget");B.setAttribute("style","position: relative;");var A="     <div id='hm_flash_widget_indicator' style='position: absolute;right: 5px;top: 25px;display: none;'>&nbsp;</div>     <div id='hm_flash_widget_head' onclick='showFlashObject();'>&nbsp;</div>";B.innerHTML=A;return B};function showFlashObject(){var A=$get("hm_flash_object");if(A){A.style.display="block"}else{}}HmFlashWidget.prototype.markWidgetCorrect=function(){setWidgetMessage("Correct!");var A=$get("hm_flash_widget_indicator");A.innerHTML="<img src='/tutor/widget/images/widget_correct.png'/>";A.style.display="block"};HmFlashWidget.prototype.markWidgetIncorrect=function(){setWidgetMessage("TRY AGAIN!");var A=$get("hm_flash_widget_indicator");A.innerHTML="<img src='/tutor/widget/images/widget_incorrect.png'/>";A.style.display="block"};HmFlashWidget.prototype.createWidgetForm=function(){var A=document.createElement("form");A.setAttribute("styleName","width: "+this._jsonObj.width+"px");A.setAttribute("id","hm_widget_form");A.setAttribute("autocomplete","off");return A};function HmFlashWidgetImplNumberInteger(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.processWidget=function(){return this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplNumberInteger,HmFlashWidget);function HmFlashWidgetImplNumberMoney(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplNumberMoney,HmFlashWidget);function HmFlashWidgetImplNumberIntegerFraction(B){this.HmFlashWidget(B);var A=B.value.split("/");prepareSimpleFraction(B,this)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();var A="<div class='widget-fraction' style='background: white'><input name='widget_input_field_1' id='widget_input_field_1' type='text'/><div class='divider'>&nbsp;</div><input name='widget_input_field_2' id='widget_input_field_2' type='text'/></div>";if(this._jsonObj.format=="text_simplified"){this.hasSimplified=true;A+="<div class='simplified_wrapper'>  <label>Simplified?<input id='widget_input_simplified' type='checkbox'/></label></div>"}B.innerHTML=A;return B};copyPrototype(HmFlashWidgetImplNumberIntegerFraction,HmFlashWidget);function HmFlashWidgetImplSimpleFraction(A){this.HmFlashWidget(A);prepareSimpleFraction(A,this)}copyPrototype(HmFlashWidgetImplSimpleFraction,HmFlashWidget);function prepareSimpleFraction(F,D){var C=F.value.split("/");D.numerator=C[0];D.denominator=C[1];D.hasSimplified=false;var B=$get("widget_input_field_1");var E=$get("widget_input_field_2");var A=$get("widget_input_simplified");if(A){A.onclick=function(){showWidgetSubmit(true);B.value="";E.value=""}}}function HmFlashWidgetImplNumberIntegerAngleDeg(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.drawGui=function(){var B=this.drawGuiDefault();var A=document.createElement("span");A.innerHTML="&nbsp;&deg;";B.appendChild(A);return B};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplNumberIntegerAngleDeg,HmFlashWidget);function HmFlashWidgetImplMulti(F){this.HmFlashWidget(F);var C=F.value.split("|");this._correct=C[C.length-1];var E=document.getElementById("widget_wrapper");var B="";for(var A=0,D=C.length-1;A<D;A++){B+='<input type="radio" name="widget_value" onclick="setWidgetMessage(null)" value="'+C[A]+'"/>';B+="<span>"+C[A]+"</span>";B+="<br/>"}E.innerHTML=B}HmFlashWidget.prototype.processKey=function(A){};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();var A="<div id='widget_wrapper'></div>";B.innerHTML=A;return B};copyPrototype(HmFlashWidgetImplMulti,HmFlashWidget);function HmFlashWidgetImplRational(B){this.isFraction=false;this.HmFlashWidget(B);var A=this}HmFlashWidget.prototype.processKey=function(B,A){if(!A){var A=window.event}if(A.keyCode){code=A.keyCode}else{if(A.which){code=A.which}}if(isASlashCharacter(A)){if(!this.isFraction){this.configureAsFraction(true);this.isFraction=true}return false}else{if(isABackSpaceCharacter(A)){if(this.isFraction){if(B.id=="widget_input_field_2"&&B.value.length<2){this.configureAsFraction(false);this.isFraction=false;B.value="";return false}}return true}else{if(code==39){return true}}}return restrictCharacters(B,A,restrictionType_integerOnly)};HmFlashWidget.prototype.configureAsFraction=function(A){if(A){$get("widget_input_field_2").style.display="inline";$get("widget_divider").style.display="block";$get("widget_input_field_2").focus()}else{$get("widget_input_field_2").style.display="none";$get("widget_divider").style.display="none";$get("widget_input_field_1").focus()}};HmFlashWidget.prototype.drawGui=function(){var A="";var J="";var H="";if(this._jsonObj.format){J=this._jsonObj.format;var E=unescape(J).split("|");if(E.length>1){A=E[1];H=E[0]}var D=J.split("^");var I=null;if(D.length>1){A=D[0];I=D[1]}else{A=unescape(this._jsonObj.format)}if(A){A=A.split("_")[1]}if(!A){A=""}J="";if(I){A+="<span style='vertical-align: baseline;font-size: 0.8em;position: relative;top: -0.4em;'>"+I+"</span>"}}var G=this.createWidgetForm();var B=H==""?150:125;var F="<div style='height: 75px;'><div style='float: left;margin-top: 8px;margin-right: 5px;'>"+H+"</div><div style='float: left;'><input id='widget_input_field_1' type='text' style='width: 80px;'/><sup style='font-weight: bold;'>"+A+"</sup><div id='widget_divider' class='divider' style='display: none'>&nbsp;</div><input id='widget_input_field_2' type='text' style='display: none;width: 80px;'/></div></div>";if(this._jsonObj.symbols){var C=this._jsonObj.symbols;if(C=="pi"){C="&pi;"}else{C="&radic;"}F+="<div class='buttons' style='padding: 5px; background: #DDD;'>    <button onclick='_addButtonTextToWidget(\""+C+"\");return false;'>"+C+"</button></div>"}G.innerHTML=F;return G};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplRational,HmFlashWidget);function HmFlashWidgetImplInequality(B){this.isFraction=false;this.HmFlashWidget(B);var A=this}HmFlashWidget.prototype.processKey=function(B,A){return true};HmFlashWidget.prototype.configureAsFraction=function(A){if(A){$get("widget_input_field_2").style.display="inline";$get("widget_divider").style.display="block";$get("widget_input_field_2").focus()}else{$get("widget_input_field_2").style.display="none";$get("widget_divider").style.display="none";$get("widget_input_field_1").focus()}};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();var A="<input id='widget_input_field_1' type='text'/><div class='buttons' style='margin-top: 10px;'><button type='button' onclick='_addButtonTextToWidget(\"&lt;\");return false;'>&lt;</button><button type='button' onclick='_addButtonTextToWidget(\"&le;\");return false;'>&le;</button><button type='button' onclick='_addButtonTextToWidget(\"&gt;\");return false;'>&gt;</button><button type='button' onclick='_addButtonTextToWidget(\"&ge;\");return false;'>&ge;</button><button type='button' onclick='_addButtonTextToWidget(\"=\");return false;'>=</button><button type='button' onclick='_addButtonTextToWidget(\"&ne;\");return false;'>&ne;</button></div>";B.innerHTML=A;return B};function _addButtonTextToWidget(B){var A=$get("widget_input_field_1").value;$get("widget_input_field_1").value=A+B;setWidgetMessage(null);$get("widget_input_field_1").focus()}HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplInequality,HmFlashWidget);function HmFlashWidgetImplCoord(B){this.HmFlashWidget(B);var A=$get("widget_input_field_2");A.onkeydown=function(C){setWidgetMessage(null);return widgetObj.processKey(this,C)}}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();var A="<span style='font-size: 40px;font-weight: bold'>&#40;<span><input style='width: 50px;' id='widget_input_field_1' type='text'/>,&nbsp;<input style='width: 50px;' id='widget_input_field_2' type='text'/><span style='font-size: 40px;font-weight: bold'>&#41;<span>";B.innerHTML=A;return B};HmFlashWidget.prototype.processWidget=function(){var C=$get("widget_input_field_1").value;var B=$get("widget_input_field_2").value;var A=this._widgetAnswer.split("|");if(C==A[0]&&B==A[1]){this.markWidgetCorrect()}else{this.markWidgetIncorrect()}showWidgetSubmit(false)};copyPrototype(HmFlashWidgetImplCoord,HmFlashWidget);function HmFlashWidgetImplMixedFraction(B){this.HmFlashWidget(B);var A=$get("widget_input_field_2")}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();var A="<div style='height: 50px;'><div style='float: left;margin-top: 8px;margin-right: 5px;'>    <input id='widget_input_field_1' type='text' style='width: 30px'/></div><div style='float: left;width: 80px;'><input id='widget_input_field_2' type='text' style='width: 80px;display: block;'/><div class='divider'>&nbsp;</div><input id='widget_input_field_2' type='text' style='width: 80px;display: block;'/></div></div>";B.innerHTML=A;return B};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplMixedFraction,HmFlashWidget);function HmFlashWidgetImplPowerForm(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){var C="";var G="";var F="";var A=this._jsonObj.value.split("^");var E=A[0];var C=A[1];var D=this.createWidgetForm();var B="<div style='position: relative;height: 40px;'>   <input id='widget_input_field_1' type='text' style='position: absolute; left: 0;width: 87px;'/>   <input id='widget_input_field_2' type='text' style='position: absolute;  top: -10px;left:90px;font-size: .8em;width: 40px;'/></div>";D.innerHTML=B;return D};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplPowerForm,HmFlashWidget);function HmFlashWidgetImplSciNotation(C){this.HmFlashWidget(C);var B=unescape(C.value);var A=B.split("x")}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();B.className="science-notation";var A="<div style='position: relative;height: 40px;'>   <input id='widget_input_field_1' type='text' style='position: absolute; left: 0;width: 63px;'/>   <input id='widget_input_field_2' type='text' style='position: absolute;  top: -10px;left:110px;font-size: .5em;width: 40px;'/>   <span style='position: absolute;left: 70px;font-weight: bold;'>x 10</span></div>";B.innerHTML=A;return B};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplSciNotation,HmFlashWidget);function HmFlashWidgetImplLetter(C){this.HmFlashWidget(C);var B=unescape(C.value);var A=B.split("x")}HmFlashWidget.prototype.processKey=function(B,A){return true};HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplLetter,HmFlashWidget);function HmFlashWidgetImplOdds(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnlyWithColon)};HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplOdds,HmFlashWidget);function HmFlashWidgetImplPointSlopeForm(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){var B=this.createWidgetForm();B.className="point-slope-form";var A="<span>y-&nbsp;</span><input id='widget_input_field_1' type='text' style='width: 30px;display: inline'/><span>&nbsp;=&nbsp;</span><input id='widget_input_field_2' type='text' style='width: 30px;display: inline'/><span>&nbsp;<span style='font-size: 50px;'>(</span>x-&nbsp;</span><input id='widget_input_field_3' type='text' style='width: 30px;display: inline;'/><span><span style='font-size: 50px;'>)</span>";B.innerHTML=A;return B};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplPointSlopeForm,HmFlashWidget);function HmFlashWidgetImplInequalityExact(A){this.HmFlashWidget(A)}HmFlashWidget.prototype.processKey=function(B,A){return restrictCharacters(B,A,restrictionType_digitsOnly)};HmFlashWidget.prototype.drawGui=function(){return this.drawGuiDefault()};HmFlashWidget.prototype.processWidget=function(){this.processWidgetDefault()};copyPrototype(HmFlashWidgetImplInequalityExact,HmFlashWidget);var widget_answer;var widget_format;var MESSAGE_CORRECT="Correct!";var MESSAGE_INCORRECT="Try Again!";var ERROR_UNITS="Enter correct units!";var ERROR_SIMPLE_FRACTION="Not in lowest terms!";var ERROR_SCI_NOT="The first number has to be between 1 and 10";var ERROR_ODDS="The problem asks for the odds not probability";var PI_SYM="\u03c0";var SQUARE_ROOT_SYM="\u221A";function regExpMatch(B,C){var A=new RegExp(B);if(C.match(A)){return true}else{return false}}function regExpReplace(C,D,A){var B=new RegExp(C,"g");return D.replace(B,A)}var revSymb={};revSymb["<"]=">";revSymb[">"]="<";revSymb["="]="=";revSymb["!="]="!=";revSymb["<="]=">=";revSymb[">="]="<=";function splitAtInEq(F){var C=["<=","<","&lt;","\u2264","&le;",">=",">","&gt;","\u2265","&ge;","=","&eq;","\u2260","&ne;"];var E=null;for(var B=0;B<C.length;B++){if(F.indexOf(C[B])!=-1){E=C[B];break}}var D=F.split(E);if(D.length>2){var A=D.pop();var H=D.join("");D=[A,H]}var G=E;E=E=="&lt;"?"<":E=="\u2264"?"<=":E=="&le;"?"<=":E;E=E=="&gt;"?">":E=="\u2265"?">=":E=="&ge;"?">=":E;E=E=="&eq;"?"=":E;E=E=="&ne;"||E=="\u2260"?"!=":E;return{ueq:G,syeq:E,lexp:D[0],rexp:D[1]}}function applyUniqueVarX(B){if(!B){return B}var A=B;if(regExpMatch("\\*[a-z()]|[a-z()]\\*",A)){A=(regExpReplace("[a-z]",A,"x"))}else{if(regExpMatch("[0-9]\\([a-z]\\)",A)){A=(regExpReplace("\\([",A,"*("))}else{if(regExpMatch("[a-z]\\([0-9]",A)){A=(regExpReplace("\\(",A,"*("))}else{if(regExpMatch("[0-9][a-z]",A)){A=(regExpReplace("[a-z]",A,"*x"))}}}}return A}function applyUniqueVarXForEval(B){if(!B){return B}var A=B;if(regExpMatch("\\*[a-z()]|[a-z()]\\*",A)){A=(regExpReplace("[a-z]",A,"x"))}else{if(regExpMatch("[0-9]\\([a-z]\\)",A)){A=(regExpReplace("\\([",A,"*("))}else{if(regExpMatch("[a-z]\\([0-9]",A)){A=(regExpReplace("\\(",A,"*("))}else{if(regExpMatch("[0-9][a-z]",A)){A=(regExpReplace("[a-z]",A,"*x"))}}}}return A}function cm_unescape(A){return unescape(decodeURI(A))}function toMathFormat(L){var H=L;var J="/\u00f7*+-\u2013<=>][^\u00B1()\u002A";var I=H.indexOf(PI_SYM)>-1;if(I){if(regExpMatch("\\*\\(?\u03c0|\u03c0\\)?\\*",H)){H=regExpReplace("\u03a0",H,"Math.PI")}else{if(regExpMatch("[0-9)]\u03c0",H)){H=regExpReplace("\u03c0",H,"*Math.PI")}if(regExpMatch("\u03c0[(0-9]",H)){H=regExpReplace("\u03c0",H,"Math.PI*")}}}var B=H.indexOf(SQUARE_ROOT_SYM);var D=H.length;var G,M,K,C;C="";var A=")";if(B>-1){G=H.substring(0,B);M=H.substring(B+1);if(M.length<1){return G}if(G.length<1){C="Math.sqrt("}else{if(G.charAt(G.length-1)=="*"){if(M.charAt(0)=="("){C=G+"Math.sqrt";A=""}else{C=G+"Math.sqrt("}}else{if(M.charAt(0)=="("){C=G+"*Math.sqrt";A=""}else{C=G+"*Math.sqrt("}}}var E=false;for(var F=0;F<M.length;F++){K=M.charAt(F);if(J.indexOf(K)!=-1&&F!=0){C+=A+M.substring(F);E=true;break}else{C+=K}}if(!E){C+=A}return C}return H}function validateNumberInteger(){var B=cm_unescape(this._jsonObj.value);var C=this._jsonObj.format;var A=$get("widget_input_field_1").value;if(A==B){return true}else{if(C=="money"){if(Number(A)==Number(B.substring(1))){throw (ERROR_UNITS)}else{return false}}else{return false}}}HmFlashWidgetImplNumberInteger.prototype.processWidgetValidation=validateNumberInteger;function validateNumberMoney(){var A=$get("widget_input_field_1").value;var B=cm_unescape(this._jsonObj.value);var D=0;var E=false;if(A.substring(0,1)=="$"){D=Number(A.substring(1));E=true}else{D=Number(A)}var C=Number(B.substring(1));if(D==C){if(!E){throw (ERROR_UNITS)}return true}else{return false}}HmFlashWidgetImplNumberMoney.prototype.processWidgetValidation=validateNumberMoney;function validateNumberDecimal(){var A=$get("widget_input_field_1").value;var B=cm_unescape(this._jsonObj.value);if(A==B){return true}else{if(widget_format=="money"){if(Number(A)==Number(B.substring(1))){throw Exception(ERROR_UNITS)}else{return false}}else{return false}}}function validateNumberSimpleFraction(){var expectedValue=cm_unescape(this._jsonObj.value);var simplified=$get("widget_input_simplified");var isSimplified=simplified&&simplified.checked;var ans_isSimplified=expectedValue.split("|")[1]=="simplified";if(expectedValue.indexOf("[")>-1){var splitVal=expectedValue.split("]");var ewhole=splitVal[0].split("[")[1];splitVal=splitVal[1].split("/");var enumero=splitVal[0];var eden=splitVal[1];expectedValue=((ewhole*eden)+Number(enumero))+"/"+eden}var eAns=eval(expectedValue);var inputValue=$get("widget_input_field_1").value;var isFrac=$get("widget_input_field_2").value!="";var fld3=$get("widget_input_field_3");var isMixed=(fld3!=null&&fld3.value!="");isFrac=isMixed?false:isFrac;var num,den,whole;if(isFrac){num=inputValue;den=$get("widget_input_field_2").value;inputValue=num+"/"+den}if(isMixed){num=inputValue;den=$get("widget_input_field_2").value;whole=fld3.value;inputValue=((whole*den)+Number(num))+"/"+den}if(inputValue==expectedValue){return true}else{if(eAns==inputValue){return true}if(isSimplified&&ans_isSimplified){return true}if(eval(inputValue)==eval(expectedValue)){throw (ERROR_SIMPLE_FRACTION)}else{return false}}}HmFlashWidgetImplSimpleFraction.prototype.processWidgetValidation=validateNumberSimpleFraction;function validateNumberFraction(){var simplified=$get("widget_input_simplified");var isSimplified=simplified&&simplified.checked;var expectedValue=cm_unescape(this._jsonObj.value);if(expectedValue.indexOf("[")>-1){var splitVal=expectedValue.split("]");var ewhole=splitVal[0].split("[")[1];splitVal=splitVal[1].split("/");var enumero=splitVal[0];var eden=splitVal[1];expectedValue=((ewhole*eden)+Number(enumero))+"/"+eden}var inputValue=$get("widget_input_field_1").value;var isFrac=$get("widget_input_field_2").value!="";var fld3=$get("widget_input_field_3");var isMixed=false;if(fld3){isMixed=fld3.value!=""}isFrac=isMixed?false:isFrac;var num,den,whole;if(isFrac){num=inputValue;den=$get("widget_input_field_2").value;inputValue=num+"/"+den}if(isMixed){num=inputValue;den=$get("widget_input_field_2").value;whole=fld3.value;inputValue=((whole*den)+Number(num))+"/"+den}if(inputValue==expectedValue){return true}else{if(eval(inputValue)==eval(expectedValue)){return true}else{return false}}}HmFlashWidgetImplNumberIntegerFraction.prototype.processWidgetValidation=validateNumberFraction;function validateNumberRational(){var expectedValue=cm_unescape(this._jsonObj.value);if(expectedValue.indexOf("[")>-1){var splitVal=expectedValue.split("]");var ewhole=splitVal[0].split("[")[1];splitVal=splitVal[1].split("/");var enumero=splitVal[0];var eden=splitVal[1];expectedValue=((ewhole*eden)+Number(enumero))+"/"+eden}var inputValue=$get("widget_input_field_1").value;var isFrac=$get("widget_input_field_2").value!="";var fld3=$get("widget_input_field_3");var isMixed=fld3!=null&&fld3.value!="";isFrac=isMixed?false:isFrac;var num,den,whole;if(isFrac){num=inputValue;den=$get("widget_input_field_2").value;inputValue=num+"/"+den}if(isMixed){num=inputValue;den=$get("widget_input_field_2").value;whole=fld3.value;inputValue=((whole*den)+Number(num))+"/"+den}var isExpression_input=regExpMatch("[a-z\u221A\u03c0]",inputValue);var isExpression_ans=regExpMatch("[a-z\u221A\u03c0]",expectedValue);try{if(isExpression_input){var x=2;inputValue=applyUniqueVarX(inputValue);inputValue=toMathFormat(inputValue);inputValue=eval(inputValue)}else{inputValue=eval(inputValue)}if(isExpression_ans){var x=2;expectedValue=expectedValue.replace("pi",PI_SYM);expectedValue=expectedValue.replace("sqrt",SQUARE_ROOT_SYM);expectedValue=applyUniqueVarX(expectedValue);expectedValue=toMathFormat(expectedValue);expectedValue=eval(expectedValue)}else{expectedValue=eval(expectedValue)}if(inputValue==expectedValue){return true}else{return false}}catch(ex){return false}}HmFlashWidgetImplRational.prototype.processWidgetValidation=validateNumberRational;function validateNumberMixedFraction(){var B=cm_unescape(this._jsonObj.value);if(B.indexOf("[")>-1){var A=B.split("]");var I=A[0].split("[")[1];A=A[1].split("/");var F=A[0];var E=A[1];B=((I*E)+Number(F))+"/"+E}var C=$get("widget_input_field_1").value;var J=$get("widget_input_field_2")!=undefined;var G=$get("widget_input_field_3")!=undefined;var D,K,H;if(J){D=C;K=$get("widget_input_field_2").value;C=D+"/"+K}if(G){H=$get("widget_input_field_1").value;D=$get("widget_input_field_2").value;K=$get("widget_input_field_3").value;C=((Number(H)*Number(K))+Number(D))+"/"+K}if(C==B){return true}else{return false}}HmFlashWidgetImplMixedFraction.prototype.processWidgetValidation=validateNumberMixedFraction;function validateMChoice(){var expectedValue=cm_unescape(this._jsonObj.value).split("|");expectedValue=eval(expectedValue[expectedValue.length-1])-1;var inputControls=$get("hm_widget_form");var inputValue=null;for(var i=0,l=inputControls.length;i<l;i++){if(inputControls[i].checked){inputValue=i;break}}if(inputValue==expectedValue){return true}else{return false}}HmFlashWidgetImplMulti.prototype.processWidgetValidation=validateMChoice;function validateCoordinates(){widget_answer=cm_unescape(this._jsonObj.value);var B=widget_answer.indexOf(",")>-1?widget_answer.split(","):widget_answer.split("|");var A=[$get("widget_input_field_1").value,$get("widget_input_field_2").value];if(A[0]==B[0]&&A[1]==B[1]){return true}else{return false}}function validateString(){var B=cm_unescape(this._jsonObj.value);var A=$get("widget_input_field_1").value;if(A.toLowerCase()==B.toLowerCase()){return true}else{return false}}HmFlashWidgetImplLetter.prototype.processWidgetValidation=validateString;function validateInequality(){var expectedValue=cm_unescape(this._jsonObj.value);var inputValue=$get("widget_input_field_1").value;var inIEq=splitAtInEq(inputValue);var outIEq=splitAtInEq(expectedValue);var olex=applyUniqueVarX(outIEq.lexp);var ilex=applyUniqueVarX(inIEq.lexp);var orex=applyUniqueVarX(outIEq.rexp);var irex=applyUniqueVarX(inIEq.rexp);if(outIEq.syeq==inIEq.syeq){if(olex==ilex){if(orex==irex){return true}}else{var x=2;var ole=eval(olex);var ile=eval(ilex);var ore=eval(orex);var ire=eval(irex);if(ole==ile){if(ore==ire){return true}}}}else{if(revSymb[outIEq.syeq]==inIEq.syeq){if(orex==ilex){if(olex==irex){return true}}else{var x=2;var ole=eval(olex);var ile=eval(ilex);var ore=eval(orex);var ire=eval(irex);if(ore==ile){if(ole==ire){return true}}}}}return false}HmFlashWidgetImplInequality.prototype.processWidgetValidation=validateInequality;function validateInequalityExact(){var B=cm_unescape(this._jsonObj.value);var A=$get("widget_input_field_1").value;A=inptValue.replace(/[*()]/g,"");if(A==B){return true}else{return false}}HmFlashWidgetImplInequalityExact.prototype.processWidgetValidation=validateInequalityExact;function validatePower(){var expectedValue=cm_unescape(this._jsonObj.value).split("^");var inputValue=[$get("widget_input_field_1").value,$get("widget_input_field_2").value];var x=2;var obex=applyUniqueVarX(expectedValue[0]);var ibex=applyUniqueVarX(inputValue[0]);var oeex=applyUniqueVarX(expectedValue[1]);var ieex=applyUniqueVarX(inputValue[1]);var obe=eval(obex);var ibe=eval(ibex);var oee=eval(oeex);var iee=eval(ieex);if(obe==ibe&&oee==iee){return true}else{return false}}HmFlashWidgetImplPowerForm.prototype.processWidgetValidation=validatePower;function validateScientificNotation(){var D=$get("widget_input_field_1");var C=$get("widget_input_field_2");widget_answer=cm_unescape(this._jsonObj.value);var B=widget_answer.indexOf("x10^")?widget_answer.split("x10^"):widget_answer.split("|");var A=[$get("widget_input_field_1").value,$get("widget_input_field_2").value];if(A[0]<1||A[0]>9){throw (ERROR_SCI_NOT)}else{if(A[0]==B[0]&&A[1]==B[1]){return true}else{return false}}}HmFlashWidgetImplSciNotation.prototype.processWidgetValidation=validateScientificNotation;function validtePointSlope(){var D=cm_unescape(this._jsonObj.value);var E=$get("widget_input_field_1").value;var B=$get("widget_input_field_2").value;var C=$get("widget_input_field_3").value;var A=E+"|"+B+"|"+C;if(A==D){return true}else{return false}}HmFlashWidgetImplPointSlopeForm.prototype.processWidgetValidation=validtePointSlope;function validateOdds(){var expectedValue=cm_unescape(this._jsonObj.value);var inputValue=$get("widget_input_field_1").value;var ans={};var inp={};if(expectedValue.indexOf("/")!=-1){ans=expectedValue.split("/")}else{if(expectedValue.indexOf(":")!=-1){ans=expectedValue.split(":")}else{if(expectedValue.indexOf("to")!=-1){ans=expectedValue.split("to")}}}var prob=eval(ans[0])+eval(ans[1]);if(inputValue.indexOf("/")!=-1){inp=inputValue.split("/")}else{if(inputValue.indexOf(":")!=-1){inp=inputValue.split(":")}else{if(inputValue.indexOf("to")!=-1){inp=inputValue.split("to")}}}if(inputValue==expectedValue){return true}else{if(eval(ans[0])==eval(inp[0])&&eval(ans[1])==eval(inp[1])){return true}else{if(eval(ans[0])==eval(inp[0])&&(eval(inp[1])==prob)){throw Exception(ERROR_ODDS)}else{return false}}}}HmFlashWidgetImplOdds.prototype.processWidgetValidation=validateOdds;