var _productionMode=false;HmEvents.eventTutorInitialized.subscribe(function(A){processMathJax()});function getAtw(){return TutorManager.getActiveTutorWrapper()}HmEvents.eventTutorLastStep.subscribe(function(A){gwt_solutionHasBeenViewed(String(A))});HmEvents.eventTutorInitialized.subscribe(function(A){gwt_solutionHasBeenInitialized(A)});function setStepsInfoHelp(){}function resetStepsInfo(){}function getNextMoveTo(){}var TutorManager={tutorWrappers:[],activeTutorWrapper:null,initializeTutor:function(M,L,P,G,C,I,D,J,F,O,R,N,K){var H=new TutorWrapper(M,L,P,G,C,I,D,J,F,O,R,N,K);TutorManager.activeTutorWrapper=H;TutorManager.tutorWrappers[TutorManager.tutorWrappers.length]=H;H.loadTutorData();if(O){var Q={submitButtonText:O,indicateWidgetStatus:R};setTutorConfiguration(Q)}H.initializeTutor(H.context);if(J){var B=100;var A=0;for(A=0;A<B;A++){var E=_getStepUnit(A);if(E==null){break}E.style.display="block"}}},unregisterTutorWrapper:function(A){for(var B=0;B<TutorManager.tutorWrappers.length;B++){if(TutorManager.tutorWrappers[B].id==A){TutorManager.tutorWrappers.splice(B,1)}}},setActiveTutorWrapper:function(C){var B=null;for(var A=0;A<TutorManager.tutorWrappers.length;A++){if(TutorManager.tutorWrappers[A].id==C){B=TutorManager.tutorWrappers[A]}}if(!B){alert("tutorWrapper not found in TutorManager: "+C)}TutorManager.activeTutorWrapper=B},getActiveTutorWrapper:function(){return TutorManager.activeTutorWrapper},showMessage:function(B){var A=$get("tutor_message");A.innerHTML=B;setTimeout(function(){A.innerHTML="&nbsp;"},2000)},removeStep:function(A){getAtw().stepUnits.split(A,1)},showNextStep:function(){var A=getAtw();if(A.currentStepUnit+1<A.stepUnits.length){A.currentStepUnit++;A.showStepUnit(A.currentStepUnit);A.scrollToStep(A.currentStepUnit)}else{TutorManager.showMessage("No more steps")}},showPreviousStep:function(){var A=getAtw();if(A.currentStepUnit<0){TutorManager.showMessage("No previous step");return }else{while(A.currentStepUnit>-1){var B=A.stepUnits[A.currentStepUnit].ele;if(A.stepUnits[A.currentStepUnit].realNum!=A.currentRealStep){A.currentRealStep=A.stepUnits[A.currentStepUnit].realNum;break}B.style.display="none";A.currentStepUnit--}if(A.currentStepUnit==0){A.currentStepUnit=-1;window.scrollTo(0,0)}if(A.currentStepUnit>-1){setAsCurrent(A.stepUnits[A.currentStepUnit].ele)}A.setButtonState();A.scrollToStep(A.currentStepUnit);return false}},getCurrentStepNumber:function(){return getAtw().currentStepUnit},backToLesson:function(){gwt_backToLesson()},newProblem:function(){var B=getAtw();var A=B.context.probNum;var C=B.context.jsonConfig?B.context.jsonConfig.limit:0;gwt_tutorNewProblem(A+1,C)},showWhiteboard:function(){gwt_showWhiteboard()},showStepUnit:function(A){showStepUnit(A)},generateContext:function(G,A,F){if(G!=null){var M=document.createElement("div");var F=null;var J="";var K="";var H=false;var E=false;var I=null;var N="";var L=false;var D=false;TutorManager.initializeTutor(M,G,F,A,J,K,H,E,I,N,L,D)}else{TutorDynamic.refreshProblem()}var C=getAtw();var B=getTutorVariableContextJson(C.tutorData._variables);return B}};function StepUnit(F,E,B,A,D,C){this.id=F;this.stepUnitNum=E;this.type=B;this.roleType=A;this.realNum=D;this.ele=C}function Step(A){this.realNum=A;this.stepUnits=new Array()}function _getStepUnit(A){return _getElement("stepunit",A)}function _getHintUnit(A){return _getElement("hintunit",A)}function _getFigureUnit(A){return _getElement("figure",A)}function findPreviousFigureUnit(A){for(p=A-1;p>-1;p--){fu=_getFigureUnit(p);if(fu!=null){return fu}}return null}function setAsNotCurrent(A){A.style.backgroundColor="#E2E2E2"}function _getElement(A,B){var C=A+"-"+B;return $get(C)}function setAsCurrent(A){A.style.backgroundColor="#F1F1F1"}function findPreviousFigureUnit(A){for(p=A-1;p>-1;p--){fu=_getFigureUnit(p);if(fu!=null){return fu}}return null}function scrollToStep(A){getAtw().scrollToStep(A)}function hideAllSteps(){var B=getAtw();for(var A=0;A<B.stepUnits.length;A++){var C=B.stepUnits[A].ele;if(C==null){return }if(C.style.display!="none"){C.style.display="none"}}window.scrollTo(0,0)}function initializeExternalJs(){var A="control-floater";new FloatLayer(A,150,15,10);detach(A);alignControlFloater()}function alignControlFloater(){alignFloatLayers();setTimeout(alignControlFloater,2000)}function doQuestionResponseEnd(){}var _activeQuestion;function doQuestionResponse(A,E){var B=getAtw();var D=B.tutorData._strings_moArray[A];if(_activeQuestion){var C=document.createElement("div");C.className="questionResponseAnswer";C.innerHTML=D;_activeQuestion.parentNode.appendChild(C)}else{gwt_showMessage(D)}}HmEvents.eventTutorInitialized.subscribe(function(D){var A=document.getElementById("tutor_raw_steps_wrapper");if(A==null){return }var I=A.getElementsByTagName("div");var G=I.length;for(var H=0;H<G;H++){var B=I.item(H);if(B.className=="question_guess"){var F=B.getElementsByTagName("img");var C=F.item(0);var E=C.onmouseout=null;C.onmouseoverDeferred=C.onmouseover;C.onmouseover=null;C.onclick=function(J){var K=(J)?J:window.event;var L=K.srcElement?K.srcElement:K.target;_activeQuestion=L;if(!L.onmouseoverDeferred){alert("error: no deferred move event");return }L.onclick=null;L.onmouseoverDeferred()}}}});function MessageContext(C,A,B){this.messageLocation=C;this.collabPointer=A;this.message=B}MessageContext.prototype.toString=function(){return this.messageLocation+", "+this.collabPointer};function SolutionMessageLocation(A,B,C){this.type=A;this.locationString1=B;this.locationInt1=C;this.complete=false}function gotoGUID(B,A){var C=getAtw();C.resetTutor()}function resetTutor(){var A=getAtw();A.resetTutor()}function gotoStepUnit(A){var B=getAtw();B.showStepUnit(A)}function getCurrentStepUnitNumber(){return getAtw().currentStepUnit}function deleteStep(A){var D=0;if(A>0){D=A*2}var C=$get("stepunit-"+D);var B=$get("stepunit-"+(D+1));if(C==null||B==null){alert("Delete Step: step "+A+" not found");return false}else{C.parentNode.removeChild(C);B.parentNode.removeChild(B);getAtw().steps.split(A,1);getAtw().stepUnits.split(D,2);return true}}function deleteStep(A){var D=0;if(A>0){D=A*2}var C=$get("stepunit-"+D);var B=$get("stepunit-"+(D+1));if(C==null||B==null){alert("Delete Step: step "+A+" not found");return false}else{C.parentNode.removeChild(C);B.parentNode.removeChild(B);var E=getAtw();E.steps.splice(A,1);E.stepUnits.splice(D,2);return true}}function _getElementTop(B){if(!B&&this){B=this}var C=document.all?true:false;var A=B.offsetTop;var D=B.offsetParent;while(D!=null){if(C){if(D.tagName=="TD"){A+=D.clientTop}}A+=D.offsetTop;D=D.offsetParent}return A}function tutor_questionGuessChanged(C){var D=C.getAttribute("id");var A=C.getAttribute("option_number");var B=C.getAttribute("value");gwt_tutorQuestionGuessChanged(D,A,B)};